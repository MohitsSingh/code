function snapToEdges(mask,edgeMap)
    boundaries = bwboundaries(mask);
    boundaries = boundaries{1};
    
    % define a cost function for the deformation.
    
    T0 = zeros(
    
    
    function cost = deformationCost(y,x,T,edgeMap)
    end